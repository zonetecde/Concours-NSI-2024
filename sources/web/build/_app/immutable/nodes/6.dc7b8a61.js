import{s as se,o as ne,b as re,n as F,r as le}from"../chunks/scheduler.033d2a90.js";import{S as oe,i as ae,g as y,s as j,r as G,h as w,j as B,c as I,u as J,f as g,k as v,a as A,x,v as K,t as R,b as W,d as N,w as Q,p as X,B as V,F as Y,A as H,m as $,n as z,o as Z}from"../chunks/index.4a39998e.js";import{R as ie,E as ue}from"../chunks/Retour.e282f6bf.js";import{k as ce,a as fe}from"../chunks/GlobalFunc.bd00eee5.js";import{F as de}from"../chunks/Fetching.83220e43.js";import{A as ee}from"../chunks/Api.2528454f.js";function pe(c){let e,t,l='<source type="audio/wav"/>',h,s,f='<i>Audio provenant de <a target="_blank" href="https://www.voxforge.org/">VoxForge.org</a></i>',E,r,d,b,n,p;function _(o,k){return o[4]!==null&&o[2]?_e:he}let m=_(c),a=m(c);return{c(){e=y("div"),t=y("audio"),t.innerHTML=l,h=j(),s=y("small"),s.innerHTML=f,E=j(),r=y("input"),b=j(),a.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var k=B(e);t=w(k,"AUDIO",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1gejzf6"&&(t.innerHTML=l),h=I(k),s=w(k,"SMALL",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1lr7m2n"&&(s.innerHTML=f),E=I(k),r=w(k,"INPUT",{type:!0,class:!0,spellcheck:!0}),b=I(k),a.l(k),k.forEach(g),this.h()},h(){t.controls=!0,v(t,"class","w-1/3 svelte-1pbnwb3"),v(s,"class","mt-5"),v(r,"type","text"),v(r,"class","mt-10 p-2 border-2 outline-none border-[#656c81] rounded-md w-2/3 shadow-xl focus:scale-105 duration-110"),r.autofocus=!0,v(r,"spellcheck","false"),r.disabled=d=c[4]!==null||c[0],v(e,"class","w-full h-full flex items-center justify-center flex-col")},m(o,k){A(o,e,k),x(e,t),c[12](t),x(e,h),x(e,s),x(e,E),x(e,r),Y(r,c[3]),x(e,b),a.m(e,null),r.focus(),n||(p=[H(r,"input",c[13]),H(r,"blur",c[14])],n=!0)},p(o,k){k&17&&d!==(d=o[4]!==null||o[0])&&(r.disabled=d),k&8&&r.value!==o[3]&&Y(r,o[3]),m===(m=_(o))&&a?a.p(o,k):(a.d(1),a=m(o),a&&(a.c(),a.m(e,null)))},i:F,o:F,d(o){o&&g(e),c[12](null),a.d(),n=!1,le(p)}}}function me(c){let e,t="Réaction!",l,h,s,f,E=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Un audio vous sera joué dans lequel une phrase sera dite. Vous devrez la recopier le plus
				vite possible sans fautes.</p>`,r,d,b,n,p="Options :",_,m,a,o,k,L,S,U="Appuyez sur ENTRÉE pour commencer l'exercice",P,C,D;return h=new ue({props:{image:"/keyboard/stenographie.jpg",nom:"Réaction",handleClick:c[7]}}),{c(){e=y("h1"),e.textContent=t,l=j(),G(h.$$.fragment),s=j(),f=y("div"),f.innerHTML=E,r=j(),d=y("div"),b=y("div"),n=y("p"),n.textContent=p,_=j(),m=y("div"),a=y("label"),o=y("input"),k=$("Vérifier l'orthographe et la conjugaison des verbes"),L=j(),S=y("p"),S.textContent=U,this.h()},l(i){e=w(i,"H1",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-h0qy67"&&(e.textContent=t),l=I(i),J(h.$$.fragment,i),s=I(i),f=w(i,"DIV",{class:!0,"data-svelte-h":!0}),V(f)!=="svelte-8gkt7z"&&(f.innerHTML=E),r=I(i),d=w(i,"DIV",{class:!0});var u=B(d);b=w(u,"DIV",{class:!0});var T=B(b);n=w(T,"P",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-1u1dexc"&&(n.textContent=p),_=I(T),m=w(T,"DIV",{class:!0});var O=B(m);a=w(O,"LABEL",{for:!0,class:!0});var M=B(a);o=w(M,"INPUT",{type:!0,class:!0,id:!0}),k=z(M,"Vérifier l'orthographe et la conjugaison des verbes"),M.forEach(g),O.forEach(g),T.forEach(g),u.forEach(g),L=I(i),S=w(i,"P",{class:!0,"data-svelte-h":!0}),V(S)!=="svelte-1w39gdb"&&(S.textContent=U),this.h()},h(){v(e,"class","font-bold text-3xl mb-6 -mt-3"),v(f,"class","text-center"),v(n,"class","pr-2"),v(o,"type","checkbox"),v(o,"class","mr-0.5 accent-blue-800"),v(o,"id","accents"),v(a,"for","accents"),v(a,"class","text-lg"),v(m,"class","flex gap-x-8"),v(b,"class","flex flex-col w-full"),v(d,"class","md:w-full max-w-[1000px] mt-4 p-4 justify-center items-center flex flex-row bg-[#ffffff25] rounded-xl"),v(S,"class","mt-8 mb-5")},m(i,u){A(i,e,u),A(i,l,u),K(h,i,u),A(i,s,u),A(i,f,u),A(i,r,u),A(i,d,u),x(d,b),x(b,n),x(b,_),x(b,m),x(m,a),x(a,o),o.checked=c[6],x(a,k),A(i,L,u),A(i,S,u),P=!0,C||(D=H(o,"change",c[11]),C=!0)},p(i,u){u&64&&(o.checked=i[6])},i(i){P||(N(h.$$.fragment,i),P=!0)},o(i){R(h.$$.fragment,i),P=!1},d(i){i&&(g(e),g(l),g(s),g(f),g(r),g(d),g(L),g(S)),Q(h,i),C=!1,D()}}}function he(c){let e,t="Soumettre",l,h;return{c(){e=y("button"),e.textContent=t,this.h()},l(s){e=w(s,"BUTTON",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-qj4bu3"&&(e.textContent=t),this.h()},h(){v(e,"class","mt-8 py-3 px-8 bg-[#5679e4] border-2 border-[#3a4181] text-white rounded-md")},m(s,f){A(s,e,f),l||(h=H(e,"click",c[10]),l=!0)},p:F,d(s){s&&g(e),l=!1,h()}}}function _e(c){let e,t,l="Réponse :",h,s=c[2][0]+"",f,E,r,d,b,n,p,_,m,a,o="Phrase suivante",k,L,S="S'arrêter",U,P,C="Changer l'orateur/oratrice",D,i;return{c(){e=y("p"),t=y("span"),t.textContent=l,h=y("br"),f=$(s),E=j(),r=y("p"),d=$("Taux de réussite : "),b=y("span"),n=$(c[4]),p=$("%"),_=j(),m=y("div"),a=y("button"),a.textContent=o,k=j(),L=y("button"),L.textContent=S,U=j(),P=y("button"),P.textContent=C,this.h()},l(u){e=w(u,"P",{class:!0});var T=B(e);t=w(T,"SPAN",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1i6ppgn"&&(t.textContent=l),h=w(T,"BR",{}),f=z(T,s),T.forEach(g),E=I(u),r=w(u,"P",{class:!0});var O=B(r);d=z(O,"Taux de réussite : "),b=w(O,"SPAN",{class:!0});var M=B(b);n=z(M,c[4]),p=z(M,"%"),M.forEach(g),O.forEach(g),_=I(u),m=w(u,"DIV",{class:!0});var q=B(m);a=w(q,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1nts36e"&&(a.textContent=o),k=I(q),L=w(q,"BUTTON",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-gv7xo"&&(L.textContent=S),U=I(q),P=w(q,"BUTTON",{class:!0,"data-svelte-h":!0}),V(P)!=="svelte-1f3c0ng"&&(P.textContent=C),q.forEach(g),this.h()},h(){v(t,"class","text-lg underline underline-offset-2"),v(e,"class","text-2xl text-green-950 font-bold mt-3 w-2/3 text-center"),v(b,"class","font-bold"),v(r,"class","mt-5 text-lg"),v(a,"class","mt-8 py-3 px-8 bg-[#5679e4] border-2 border-[#3a4181] text-white rounded-md"),v(L,"class","mt-8 py-3 px-8 bg-[#e45656] border-2 border-[#813a3a] text-white rounded-md"),v(P,"class","mt-8 py-3 px-8 bg-[#b9e456] border-2 border-[#80813a] rounded-md text-black"),v(m,"class","flex gap-x-4")},m(u,T){A(u,e,T),x(e,t),x(e,h),x(e,f),A(u,E,T),A(u,r,T),x(r,d),x(r,b),x(b,n),x(b,p),A(u,_,T),A(u,m,T),x(m,a),x(m,k),x(m,L),x(m,U),x(m,P),D||(i=[H(a,"click",c[8]),H(L,"click",c[15]),H(P,"click",c[7])],D=!0)},p(u,T){T&4&&s!==(s=u[2][0]+"")&&Z(f,s),T&16&&Z(n,u[4])},d(u){u&&(g(e),g(E),g(r),g(_),g(m)),D=!1,le(i)}}}function te(c){let e,t;return e=new de({props:{Text1:"Récupèration d'audios de phrases aléatoires"}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,h){K(e,l,h),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function be(c){let e,t,l,h,s,f,E;const r=[me,pe],d=[];function b(p,_){return p[5]?1:0}t=b(c),l=d[t]=r[t](c),s=new ie({props:{urlToGo:"/keyboard",taille:"w-10 h-10 bottom-3 left-3 z-50",toExecuteBefore:c[9]}});let n=c[0]&&te();return{c(){e=y("div"),l.c(),h=j(),G(s.$$.fragment),f=j(),n&&n.c(),this.h()},l(p){e=w(p,"DIV",{class:!0});var _=B(e);l.l(_),h=I(_),J(s.$$.fragment,_),f=I(_),n&&n.l(_),_.forEach(g),this.h()},h(){v(e,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(p,_){A(p,e,_),d[t].m(e,null),x(e,h),K(s,e,null),x(e,f),n&&n.m(e,null),E=!0},p(p,[_]){let m=t;t=b(p),t===m?d[t].p(p,_):(X(),R(d[m],1,1,()=>{d[m]=null}),W(),l=d[t],l?l.p(p,_):(l=d[t]=r[t](p),l.c()),N(l,1),l.m(e,h)),p[0]?n?_&1&&N(n,1):(n=te(),n.c(),N(n,1),n.m(e,null)):n&&(X(),R(n,1,1,()=>{n=null}),W())},i(p){E||(N(l),N(s.$$.fragment,p),N(n),E=!0)},o(p){R(l),R(s.$$.fragment,p),R(n),E=!1},d(p){p&&g(e),d[t].d(),Q(s),n&&n.d()}}}let ve=!1,xe=!1;function ge(c,e,t){let l=!1,h=[],s,f,E="",r=null,d=!1,b=!0;ne(()=>{window.addEventListener("keydown",p),window.addEventListener("keyup",n)});function n(C){ce(C)}function p(C){fe(C),C.key==="Enter"&&(d?l||o():_())}async function _(){t(5,d=!0),t(0,l=!0),h=await ee.api.recuperer_phrase_aleatoire_voxforge(),t(0,l=!1),m()}function m(){if(h.length===0){_();return}t(4,r=null),t(3,E=""),t(2,f=h.pop()),console.log("Playing audio:",f),setTimeout(()=>{s&&f&&(t(1,s.src=f[1],s),s.play())},100)}function a(){window.removeEventListener("keydown",p),window.removeEventListener("keyup",n)}async function o(){if(f&&d&&!l){const C=E,D=await ee.api.verifier_phrase_stenographie(f[0],C,ve,b,xe);t(4,r=D[1])}}function k(){b=this.checked,t(6,b)}function L(C){re[C?"unshift":"push"](()=>{s=C,t(1,s)})}function S(){E=this.value,t(3,E)}return[l,s,f,E,r,d,b,_,m,a,o,k,L,S,()=>{const C=document.querySelector("input");C&&C.focus()},()=>{const C=document.getElementById("retour");C==null||C.click()}]}class Ae extends oe{constructor(e){super(),ae(this,e,ge,be,se,{})}}export{Ae as component};
