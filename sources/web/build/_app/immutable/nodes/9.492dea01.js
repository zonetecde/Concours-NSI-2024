import{s as He,o as Ue,i as qe,r as Be}from"../chunks/scheduler.033d2a90.js";import{S as ze,i as Ge,g as m,s as A,r as xe,h,j as D,c as j,u as we,f as d,k,a as S,x as r,v as Te,t as re,b as Ee,d as ee,w as Pe,p as Ce,D as Je,e as Ie,m as N,B as Y,n as I,F as fe,G as De,A as de,o as te,E as Ke,H as Se}from"../chunks/index.3f6478a0.js";import{e as Ae}from"../chunks/each.02839fee.js";import{R as Qe,E as We}from"../chunks/Retour.f04dd909.js";import{F as Xe,f as je}from"../chunks/Fetching.722e55d6.js";import{A as Le}from"../chunks/Api.2528454f.js";import{k as Ye,a as Ze}from"../chunks/GlobalFunc.bd00eee5.js";import"../chunks/Toaster.svelte_svelte_type_style_lang.91f9b89f.js";function Me(s,t,l){const e=s.slice();return e[24]=t[l],e[26]=l,e}function $e(s){let t,l,e,c,u,i=!s[4]&&Oe(s),f=s[4]&&Fe(),p=s[1]&&Re(s);return{c(){t=m("div"),i&&i.c(),l=A(),f&&f.c(),e=A(),p&&p.c(),c=Ie(),this.h()},l(n){t=h(n,"DIV",{class:!0});var o=D(t);i&&i.l(o),o.forEach(d),l=j(n),f&&f.l(n),e=j(n),p&&p.l(n),c=Ie(),this.h()},h(){k(t,"class","flex flex-col w-full")},m(n,o){S(n,t,o),i&&i.m(t,null),S(n,l,o),f&&f.m(n,o),S(n,e,o),p&&p.m(n,o),S(n,c,o),u=!0},p(n,o){n[4]?i&&(i.d(1),i=null):i?i.p(n,o):(i=Oe(n),i.c(),i.m(t,null)),n[4]?f?o&16&&ee(f,1):(f=Fe(),f.c(),ee(f,1),f.m(e.parentNode,e)):f&&(Ce(),re(f,1,1,()=>{f=null}),Ee()),n[1]?p?(p.p(n,o),o&2&&ee(p,1)):(p=Re(n),p.c(),ee(p,1),p.m(c.parentNode,c)):p&&(Ce(),re(p,1,1,()=>{p=null}),Ee())},i(n){u||(ee(f),ee(p),u=!0)},o(n){re(f),re(p),u=!1},d(n){n&&(d(t),d(l),d(e),d(c)),i&&i.d(),f&&f.d(n),p&&p.d(n)}}}function et(s){let t,l="Type Script",e,c,u,i,f=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Vous devrez écrire le texte qui s&#39;affichera le plus rapidement possible, tout en minimisant
				les erreurs de frappe.</p>`,p,n,o,v,T="Langue :",L,y,x,C="Français",a,g="Anglais",_,U="Allemand",O,R="Arabe",z,le="Espagnol",q,ne="Italien",M,P,w,B,K,G,V,ae,se,W,ce="Appuyez sur ENTRÉE pour commencer l'exercice",X,Z,pe;return c=new We({props:{image:"/keyboard/typescript.jpg",link:"/keyboard/type-script",nom:"Type Script",handleClick:s[12]}}),{c(){t=m("h1"),t.textContent=l,e=A(),xe(c.$$.fragment),u=A(),i=m("div"),i.innerHTML=f,p=A(),n=m("div"),o=m("div"),v=m("p"),v.textContent=T,L=A(),y=m("select"),x=m("option"),x.textContent=C,a=m("option"),a.textContent=g,_=m("option"),_.textContent=U,O=m("option"),O.textContent=R,z=m("option"),z.textContent=le,q=m("option"),q.textContent=ne,M=A(),P=m("label"),w=m("input"),B=N("Majuscules"),K=A(),G=m("label"),V=m("input"),ae=N("Accents"),se=A(),W=m("p"),W.textContent=ce,this.h()},l(b){t=h(b,"H1",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-1q6ra4y"&&(t.textContent=l),e=j(b),we(c.$$.fragment,b),u=j(b),i=h(b,"DIV",{class:!0,"data-svelte-h":!0}),Y(i)!=="svelte-113hyhl"&&(i.innerHTML=f),p=j(b),n=h(b,"DIV",{class:!0});var E=D(n);o=h(E,"DIV",{class:!0});var oe=D(o);v=h(oe,"P",{class:!0,"data-svelte-h":!0}),Y(v)!=="svelte-iiqhpk"&&(v.textContent=T),L=j(oe),y=h(oe,"SELECT",{});var H=D(y);x=h(H,"OPTION",{"data-svelte-h":!0}),Y(x)!=="svelte-r9p3ar"&&(x.textContent=C),a=h(H,"OPTION",{"data-svelte-h":!0}),Y(a)!=="svelte-1axwfne"&&(a.textContent=g),_=h(H,"OPTION",{"data-svelte-h":!0}),Y(_)!=="svelte-1a98j5t"&&(_.textContent=U),O=h(H,"OPTION",{"data-svelte-h":!0}),Y(O)!=="svelte-1tvkgpu"&&(O.textContent=R),z=h(H,"OPTION",{"data-svelte-h":!0}),Y(z)!=="svelte-lbworh"&&(z.textContent=le),q=h(H,"OPTION",{"data-svelte-h":!0}),Y(q)!=="svelte-8l2xsj"&&(q.textContent=ne),H.forEach(d),oe.forEach(d),M=j(E),P=h(E,"LABEL",{for:!0,class:!0});var J=D(P);w=h(J,"INPUT",{type:!0,class:!0,id:!0}),B=I(J,"Majuscules"),J.forEach(d),K=j(E),G=h(E,"LABEL",{for:!0,class:!0});var ie=D(G);V=h(ie,"INPUT",{type:!0,class:!0,id:!0}),ae=I(ie,"Accents"),ie.forEach(d),E.forEach(d),se=j(b),W=h(b,"P",{class:!0,"data-svelte-h":!0}),Y(W)!=="svelte-1c9ssdi"&&(W.textContent=ce),this.h()},h(){k(t,"class","font-bold text-3xl -mt-12 mb-8"),k(i,"class","text-center"),k(v,"class","pr-2"),x.__value="fr",fe(x,x.__value),a.__value="en",fe(a,a.__value),_.__value="de",fe(_,_.__value),O.__value="ar",fe(O,O.__value),z.__value="es",fe(z,z.__value),q.__value="it",fe(q,q.__value),s[5]===void 0&&qe(()=>s[16].call(y)),k(o,"class","flex"),k(w,"type","checkbox"),k(w,"class","ml-4 mr-1 accent-blue-800"),k(w,"id","majuscules"),k(P,"for","majuscules"),k(P,"class","text-lg"),k(V,"type","checkbox"),k(V,"class","ml-4 mr-0.5 accent-blue-800"),k(V,"id","accents"),k(G,"for","accents"),k(G,"class","text-lg"),k(n,"class","w-full max-w-[1000px] mt-4 p-4 justify-center items-center flex flex-row bg-[#ffffff25] rounded-xl"),k(W,"class","mt-4")},m(b,E){S(b,t,E),S(b,e,E),Te(c,b,E),S(b,u,E),S(b,i,E),S(b,p,E),S(b,n,E),r(n,o),r(o,v),r(o,L),r(o,y),r(y,x),r(y,a),r(y,_),r(y,O),r(y,z),r(y,q),De(y,s[5],!0),r(n,M),r(n,P),r(P,w),w.checked=s[6],r(P,B),r(n,K),r(n,G),r(G,V),V.checked=s[7],r(G,ae),S(b,se,E),S(b,W,E),X=!0,Z||(pe=[de(y,"change",s[16]),de(w,"change",s[17]),de(V,"change",s[18])],Z=!0)},p(b,E){E&32&&De(y,b[5]),E&64&&(w.checked=b[6]),E&128&&(V.checked=b[7])},i(b){X||(ee(c.$$.fragment,b),X=!0)},o(b){re(c.$$.fragment,b),X=!1},d(b){b&&(d(t),d(e),d(u),d(i),d(p),d(n),d(se),d(W)),Pe(c,b),Z=!1,Be(pe)}}}function Oe(s){let t,l,e,c,u,i,f,p,n,o,v,T,L,y,x=Ae(s[11]),C=[];for(let a=0;a<x.length;a+=1)C[a]=Ve(Me(s,x,a));return{c(){t=m("p"),l=N("Nombre de mots tapés : "),e=N(s[8]),c=N("/"),u=N(s[9]),i=A(),f=m("p"),p=N("Temps : "),n=N(s[3]),o=A(),v=m("p");for(let a=0;a<C.length;a+=1)C[a].c();T=A(),L=m("p"),y=N(s[2]),this.h()},l(a){t=h(a,"P",{});var g=D(t);l=I(g,"Nombre de mots tapés : "),e=I(g,s[8]),c=I(g,"/"),u=I(g,s[9]),g.forEach(d),i=j(a),f=h(a,"P",{});var _=D(f);p=I(_,"Temps : "),n=I(_,s[3]),_.forEach(d),o=j(a),v=h(a,"P",{class:!0});var U=D(v);for(let R=0;R<C.length;R+=1)C[R].l(U);U.forEach(d),T=j(a),L=h(a,"P",{class:!0});var O=D(L);y=I(O,s[2]),O.forEach(d),this.h()},h(){k(v,"class","mt-4 text-2xl text-justify"),k(L,"class","text-right mt-3")},m(a,g){S(a,t,g),r(t,l),r(t,e),r(t,c),r(t,u),S(a,i,g),S(a,f,g),r(f,p),r(f,n),S(a,o,g),S(a,v,g);for(let _=0;_<C.length;_+=1)C[_]&&C[_].m(v,null);S(a,T,g),S(a,L,g),r(L,y)},p(a,g){if(g&256&&te(e,a[8]),g&512&&te(u,a[9]),g&8&&te(n,a[3]),g&2048){x=Ae(a[11]);let _;for(_=0;_<x.length;_+=1){const U=Me(a,x,_);C[_]?C[_].p(U,g):(C[_]=Ve(U),C[_].c(),C[_].m(v,null))}for(;_<C.length;_+=1)C[_].d(1);C.length=x.length}g&4&&te(y,a[2])},d(a){a&&(d(t),d(i),d(f),d(o),d(v),d(T),d(L)),Ke(C,a)}}}function Ve(s){let t,l=s[24].letter+"",e,c;return{c(){t=m("span"),e=N(l),this.h()},l(u){t=h(u,"SPAN",{class:!0});var i=D(t);e=I(i,l),i.forEach(d),this.h()},h(){k(t,"class",c="inconsolata "+(s[24].typed&&!s[24].mistake?"text-gray-700":"")+" "+(s[24].mistake?" text-red-700":"")+" "+(s[24].letter===ue?"text-sm px-1 font-bold":"")+" "+(s[24].letter===ue&&!s[24].typed?"text-gray-800":"")+" "+(s[26]===0&&s[11][0].typed===!1||s[26]>0&&s[11][s[26]-1].typed&&!s[11][s[26]].typed?" underline":""))},m(u,i){S(u,t,i),r(t,e)},p(u,i){i&2048&&l!==(l=u[24].letter+"")&&te(e,l),i&2048&&c!==(c="inconsolata "+(u[24].typed&&!u[24].mistake?"text-gray-700":"")+" "+(u[24].mistake?" text-red-700":"")+" "+(u[24].letter===ue?"text-sm px-1 font-bold":"")+" "+(u[24].letter===ue&&!u[24].typed?"text-gray-800":"")+" "+(u[26]===0&&u[11][0].typed===!1||u[26]>0&&u[11][u[26]-1].typed&&!u[11][u[26]].typed?" underline":""))&&k(t,"class",c)},d(u){u&&d(t)}}}function Fe(s){let t,l;return t=new Xe({props:{Text1:"Récupération d'une phrase aléatoire depuis python..."}}),{c(){xe(t.$$.fragment)},l(e){we(t.$$.fragment,e)},m(e,c){Te(t,e,c),l=!0},i(e){l||(ee(t.$$.fragment,e),l=!0)},o(e){re(t.$$.fragment,e),l=!1},d(e){Pe(t,e)}}}function Re(s){let t,l,e,c,u="Vos résultats :",i,f,p,n=s[10].tempsMisString+"",o,v,T,L,y=s[10].nbCaracteres+"",x,C,a,g,_=s[10].nbErreurs+"",U,O,R,z,le=s[10].vitesse+"",q,ne,M,P,w,B=s[10].precision+"",K,G,V,ae,se=s[10].score+"",W,ce,X,Z,pe="Recommencer",b,E,oe="Retour",H,J,ie,Ne;return{c(){t=m("div"),l=m("div"),e=m("div"),c=m("h2"),c.textContent=u,i=A(),f=m("p"),p=N("Temps mis : "),o=N(n),v=A(),T=m("p"),L=N("Nombre de caractères : "),x=N(y),C=A(),a=m("p"),g=N("Nombre d'erreurs : "),U=N(_),O=A(),R=m("p"),z=N("Vitesse : "),q=N(le),ne=N(" caractères par seconde"),M=A(),P=m("p"),w=N("Précision : "),K=N(B),G=A(),V=m("p"),ae=N("Score : "),W=N(se),ce=A(),X=m("div"),Z=m("button"),Z.textContent=pe,b=A(),E=m("a"),E.textContent=oe,this.h()},l(F){t=h(F,"DIV",{class:!0});var $=D(t);l=h($,"DIV",{class:!0});var _e=D(l);e=h(_e,"DIV",{class:!0});var Q=D(e);c=h(Q,"H2",{class:!0,"data-svelte-h":!0}),Y(c)!=="svelte-14uk5ao"&&(c.textContent=u),i=j(Q),f=h(Q,"P",{});var ve=D(f);p=I(ve,"Temps mis : "),o=I(ve,n),ve.forEach(d),v=j(Q),T=h(Q,"P",{});var be=D(T);L=I(be,"Nombre de caractères : "),x=I(be,y),be.forEach(d),C=j(Q),a=h(Q,"P",{});var ke=D(a);g=I(ke,"Nombre d'erreurs : "),U=I(ke,_),ke.forEach(d),O=j(Q),R=h(Q,"P",{});var me=D(R);z=I(me,"Vitesse : "),q=I(me,le),ne=I(me," caractères par seconde"),me.forEach(d),M=j(Q),P=h(Q,"P",{});var ye=D(P);w=I(ye,"Précision : "),K=I(ye,B),ye.forEach(d),G=j(Q),V=h(Q,"P",{class:!0});var ge=D(V);ae=I(ge,"Score : "),W=I(ge,se),ge.forEach(d),Q.forEach(d),ce=j(_e),X=h(_e,"DIV",{class:!0});var he=D(X);Z=h(he,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(Z)!=="svelte-1rnia1g"&&(Z.textContent=pe),b=j(he),E=h(he,"A",{class:!0,href:!0,"data-svelte-h":!0}),Y(E)!=="svelte-18xoers"&&(E.textContent=oe),he.forEach(d),_e.forEach(d),$.forEach(d),this.h()},h(){k(c,"class","text-4xl font-bold text-center mb-8"),k(V,"class","font-bold text-center mt-8"),k(e,"class","text-2xl text-justify"),k(Z,"class","bg-yellow-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-all w-2/5"),k(E,"class","bg-red-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-red-500 transition-all w-2/5 flex items-center justify-center"),k(E,"href","/keyboard"),k(X,"class","flex justify-center gap-x-8 mt-4 h-14"),k(l,"class","flex flex-col gap-y-4 w-3/5 py-12 px-12 bg-[#abc8d6] text-black shadow-xl rounded-xl"),k(t,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center bg-black bg-opacity-20")},m(F,$){S(F,t,$),r(t,l),r(l,e),r(e,c),r(e,i),r(e,f),r(f,p),r(f,o),r(e,v),r(e,T),r(T,L),r(T,x),r(e,C),r(e,a),r(a,g),r(a,U),r(e,O),r(e,R),r(R,z),r(R,q),r(R,ne),r(e,M),r(e,P),r(P,w),r(P,K),r(e,G),r(e,V),r(V,ae),r(V,W),r(l,ce),r(l,X),r(X,Z),r(X,b),r(X,E),J=!0,ie||(Ne=[de(Z,"click",s[19]),de(E,"click",s[13])],ie=!0)},p(F,$){(!J||$&1024)&&n!==(n=F[10].tempsMisString+"")&&te(o,n),(!J||$&1024)&&y!==(y=F[10].nbCaracteres+"")&&te(x,y),(!J||$&1024)&&_!==(_=F[10].nbErreurs+"")&&te(U,_),(!J||$&1024)&&le!==(le=F[10].vitesse+"")&&te(q,le),(!J||$&1024)&&B!==(B=F[10].precision+"")&&te(K,B),(!J||$&1024)&&se!==(se=F[10].score+"")&&te(W,se)},i(F){J||(F&&qe(()=>{J&&(H||(H=Se(t,je,{},!0)),H.run(1))}),J=!0)},o(F){F&&(H||(H=Se(t,je,{},!1)),H.run(0)),J=!1},d(F){F&&d(t),F&&H&&H.end(),ie=!1,Be(Ne)}}}function tt(s){let t,l,e,c,u,i;const f=[et,$e],p=[];function n(o,v){return o[0]?1:0}return l=n(s),e=p[l]=f[l](s),u=new Qe({props:{urlToGo:"/keyboard",taille:"w-10 h-10 bottom-3 left-3 z-50",toExecuteBefore:s[13]}}),{c(){t=m("div"),e.c(),c=A(),xe(u.$$.fragment),this.h()},l(o){t=h(o,"DIV",{class:!0});var v=D(t);e.l(v),c=j(v),we(u.$$.fragment,v),v.forEach(d),this.h()},h(){k(t,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(o,v){S(o,t,v),p[l].m(t,null),r(t,c),Te(u,t,null),i=!0},p(o,[v]){let T=l;l=n(o),l===T?p[l].p(o,v):(Ce(),re(p[T],1,1,()=>{p[T]=null}),Ee(),e=p[l],e?e.p(o,v):(e=p[l]=f[l](o),e.c()),ee(e,1),e.m(t,c))},i(o){i||(ee(e),ee(u.$$.fragment,o),i=!0)},o(o){re(e),re(u.$$.fragment,o),i=!1},d(o){o&&d(t),p[l].d(),Pe(u)}}}const ue=" ⸱ ";function lt(s,t,l){let e,c,u=!1,i=!1,f="",p="",n=new Date,o="0:00",v=!1,T="fr",L=!0,y=!0,x=0,C=0,a={tempsMisString:"0:00",nbErreurs:0,nbCaracteres:0,vitesse:0,precision:0,score:0};Ue(()=>{window.addEventListener("keyup",g),window.addEventListener("keydown",_)});function g(M){Ye(M)}function _(M){if(Ze(M),u){if(M.key.length!==1)return;let P=c.find(w=>!w.typed);if(P){P.typed=!0;let w=P.letter;L||(w=w.toLowerCase()),y||(w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),(w===ue?" ":w)!==M.key&&(P.mistake=!0),w===ue&&l(8,x++,x),c.every(B=>B.typed)&&U()}l(11,c=[...c])}else M.key==="Enter"&&O()}function U(){l(1,i=!0);let P=Number(new Date)-Number(n),w=c.filter(K=>K.mistake).length,B=c.length;Le.api.calculer_score_typescript({temps_mis:P,nb_erreurs:w,nb_caracteres:B}).then(K=>{l(10,a=K)})}async function O(){l(0,u=!0),l(4,v=!0),console.log(T);const M=await Le.api.recuperer_phrase_aleatoire_typescript(T);l(14,f=M.phrase),l(2,p=M.titre),l(9,C=f.split(" ").length),l(8,x=0),l(4,v=!1),n=new Date;const P=setInterval(()=>{let B=Number(new Date)-Number(n),K=Math.floor(B/6e4),G=Math.floor(B%6e4/1e3);l(3,o=`${K}:${G<10?"0":""}${G}`),i&&clearInterval(P)},1e3)}function R(){window.removeEventListener("keyup",g),window.removeEventListener("keydown",_)}function z(){T=Je(this),l(5,T)}function le(){L=this.checked,l(6,L)}function q(){y=this.checked,l(7,y)}const ne=()=>{window.location.reload()};return s.$$.update=()=>{s.$$.dirty&16384&&l(15,e=f.split("")),s.$$.dirty&32768&&l(11,c=e.map(M=>({letter:M.trim()||ue,typed:!1,mistake:!1})))},[u,i,p,o,v,T,L,y,x,C,a,c,O,R,f,e,z,le,q,ne]}class ft extends ze{constructor(t){super(),Ge(this,t,lt,tt,He,{})}}export{ft as component};
