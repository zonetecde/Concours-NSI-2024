import{s as ze,o as Ue,i as Te,r as Be}from"../chunks/scheduler.cbfa02fd.js";import{S as Ge,i as Je,g as m,s as M,r as Fe,h,j,c as L,u as Re,f,k,a as D,x as n,v as He,t as ae,b as we,d as se,w as qe,p as Pe,F as Ke,e as Ie,m as I,B as W,n as S,E as pe,G as Se,A as _e,o as ee,C as Qe,D as be}from"../chunks/index.d8ccca2e.js";import{b as De}from"../chunks/Toaster.svelte_svelte_type_style_lang.d87c4662.js";import{R as We,E as Xe}from"../chunks/Retour.d9b22852.js";import{P as ne,f as ke}from"../chunks/GlobalFunc.6cd224cf.js";import{A as je}from"../chunks/Api.514a8052.js";function Me(r,e,s){const l=r.slice();return l[24]=e[s],l[26]=s,l}function Ye(r){let e,s,l,o,t=!r[4]&&Le(r),a=r[4]&&Ve(),u=r[1]&&Oe(r);return{c(){e=m("div"),t&&t.c(),s=M(),a&&a.c(),l=M(),u&&u.c(),o=Ie(),this.h()},l(c){e=h(c,"DIV",{class:!0});var p=j(e);t&&t.l(p),p.forEach(f),s=L(c),a&&a.l(c),l=L(c),u&&u.l(c),o=Ie(),this.h()},h(){k(e,"class","flex flex-col w-full")},m(c,p){D(c,e,p),t&&t.m(e,null),D(c,s,p),a&&a.m(c,p),D(c,l,p),u&&u.m(c,p),D(c,o,p)},p(c,p){c[4]?t&&(t.d(1),t=null):t?t.p(c,p):(t=Le(c),t.c(),t.m(e,null)),c[4]?a?p&16&&se(a,1):(a=Ve(),a.c(),se(a,1),a.m(l.parentNode,l)):a&&(Pe(),ae(a,1,1,()=>{a=null}),we()),c[1]?u?(u.p(c,p),p&2&&se(u,1)):(u=Oe(c),u.c(),se(u,1),u.m(o.parentNode,o)):u&&(Pe(),ae(u,1,1,()=>{u=null}),we())},i(c){se(a),se(u)},o(c){ae(a),ae(u)},d(c){c&&(f(e),f(s),f(l),f(o)),t&&t.d(),a&&a.d(c),u&&u.d(c)}}}function Ze(r){let e,s="Type Script",l,o,t,a,u=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Vous devrez écrire le texte qui s&#39;affichera le plus rapidement possible, tout en minimisant
				les erreurs de frappe.</p>`,c,p,_,v,T="Langue :",A,y,w,g="Français",i,x="Anglais",d,z="Allemand",V,F="Arabe",U,te="Espagnol",R,re="Italien",E,N,P,H,K,G,O,ie,le,X,fe="Appuyez sur ENTRÉE pour commencer l'exercice",Y,Z,de;return o=new Xe({props:{image:"/keyboard/typescript2.jpg",link:"/keyboard/type-script",nom:"Type Script",handleClick:r[12]}}),{c(){e=m("h1"),e.textContent=s,l=M(),Fe(o.$$.fragment),t=M(),a=m("div"),a.innerHTML=u,c=M(),p=m("div"),_=m("div"),v=m("p"),v.textContent=T,A=M(),y=m("select"),w=m("option"),w.textContent=g,i=m("option"),i.textContent=x,d=m("option"),d.textContent=z,V=m("option"),V.textContent=F,U=m("option"),U.textContent=te,R=m("option"),R.textContent=re,E=M(),N=m("label"),P=m("input"),H=I("Majuscules"),K=M(),G=m("label"),O=m("input"),ie=I("Accents"),le=M(),X=m("p"),X.textContent=fe,this.h()},l(b){e=h(b,"H1",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1q6ra4y"&&(e.textContent=s),l=L(b),Re(o.$$.fragment,b),t=L(b),a=h(b,"DIV",{class:!0,"data-svelte-h":!0}),W(a)!=="svelte-113hyhl"&&(a.innerHTML=u),c=L(b),p=h(b,"DIV",{class:!0});var C=j(p);_=h(C,"DIV",{class:!0});var oe=j(_);v=h(oe,"P",{class:!0,"data-svelte-h":!0}),W(v)!=="svelte-iiqhpk"&&(v.textContent=T),A=L(oe),y=h(oe,"SELECT",{});var q=j(y);w=h(q,"OPTION",{"data-svelte-h":!0}),W(w)!=="svelte-r9p3ar"&&(w.textContent=g),i=h(q,"OPTION",{"data-svelte-h":!0}),W(i)!=="svelte-1axwfne"&&(i.textContent=x),d=h(q,"OPTION",{"data-svelte-h":!0}),W(d)!=="svelte-1a98j5t"&&(d.textContent=z),V=h(q,"OPTION",{"data-svelte-h":!0}),W(V)!=="svelte-1tvkgpu"&&(V.textContent=F),U=h(q,"OPTION",{"data-svelte-h":!0}),W(U)!=="svelte-lbworh"&&(U.textContent=te),R=h(q,"OPTION",{"data-svelte-h":!0}),W(R)!=="svelte-8l2xsj"&&(R.textContent=re),q.forEach(f),oe.forEach(f),E=L(C),N=h(C,"LABEL",{for:!0,class:!0});var J=j(N);P=h(J,"INPUT",{type:!0,class:!0,id:!0}),H=S(J,"Majuscules"),J.forEach(f),K=L(C),G=h(C,"LABEL",{for:!0,class:!0});var ce=j(G);O=h(ce,"INPUT",{type:!0,class:!0,id:!0}),ie=S(ce,"Accents"),ce.forEach(f),C.forEach(f),le=L(b),X=h(b,"P",{class:!0,"data-svelte-h":!0}),W(X)!=="svelte-1c9ssdi"&&(X.textContent=fe),this.h()},h(){k(e,"class","font-bold text-3xl -mt-12 mb-8"),k(a,"class","text-center"),k(v,"class","pr-2"),w.__value="fr",pe(w,w.__value),i.__value="en",pe(i,i.__value),d.__value="de",pe(d,d.__value),V.__value="ar",pe(V,V.__value),U.__value="es",pe(U,U.__value),R.__value="it",pe(R,R.__value),r[5]===void 0&&Te(()=>r[16].call(y)),k(_,"class","flex"),k(P,"type","checkbox"),k(P,"class","ml-4 mr-1"),k(P,"id","majuscules"),k(N,"for","majuscules"),k(N,"class","text-lg"),k(O,"type","checkbox"),k(O,"class","ml-4 mr-0.5"),k(O,"id","accents"),k(G,"for","accents"),k(G,"class","text-lg"),k(p,"class","w-full max-w-[1000px] mt-4 p-4 justify-center items-center flex flex-row bg-[#ffffff25] rounded-xl"),k(X,"class","mt-4")},m(b,C){D(b,e,C),D(b,l,C),He(o,b,C),D(b,t,C),D(b,a,C),D(b,c,C),D(b,p,C),n(p,_),n(_,v),n(_,A),n(_,y),n(y,w),n(y,i),n(y,d),n(y,V),n(y,U),n(y,R),Se(y,r[5],!0),n(p,E),n(p,N),n(N,P),P.checked=r[6],n(N,H),n(p,K),n(p,G),n(G,O),O.checked=r[7],n(G,ie),D(b,le,C),D(b,X,C),Y=!0,Z||(de=[_e(y,"change",r[16]),_e(P,"change",r[17]),_e(O,"change",r[18])],Z=!0)},p(b,C){C&32&&Se(y,b[5]),C&64&&(P.checked=b[6]),C&128&&(O.checked=b[7])},i(b){Y||(se(o.$$.fragment,b),Y=!0)},o(b){ae(o.$$.fragment,b),Y=!1},d(b){b&&(f(e),f(l),f(t),f(a),f(c),f(p),f(le),f(X)),qe(o,b),Z=!1,Be(de)}}}function Le(r){let e,s,l,o,t,a,u,c,p,_,v,T,A,y,w=De(r[11]),g=[];for(let i=0;i<w.length;i+=1)g[i]=Ae(Me(r,w,i));return{c(){e=m("p"),s=I("Nombre de mots tapés : "),l=I(r[8]),o=I("/"),t=I(r[9]),a=M(),u=m("p"),c=I("Temps : "),p=I(r[3]),_=M(),v=m("p");for(let i=0;i<g.length;i+=1)g[i].c();T=M(),A=m("p"),y=I(r[2]),this.h()},l(i){e=h(i,"P",{});var x=j(e);s=S(x,"Nombre de mots tapés : "),l=S(x,r[8]),o=S(x,"/"),t=S(x,r[9]),x.forEach(f),a=L(i),u=h(i,"P",{});var d=j(u);c=S(d,"Temps : "),p=S(d,r[3]),d.forEach(f),_=L(i),v=h(i,"P",{class:!0});var z=j(v);for(let F=0;F<g.length;F+=1)g[F].l(z);z.forEach(f),T=L(i),A=h(i,"P",{class:!0});var V=j(A);y=S(V,r[2]),V.forEach(f),this.h()},h(){k(v,"class","mt-4 text-2xl text-justify"),k(A,"class","text-right mt-3")},m(i,x){D(i,e,x),n(e,s),n(e,l),n(e,o),n(e,t),D(i,a,x),D(i,u,x),n(u,c),n(u,p),D(i,_,x),D(i,v,x);for(let d=0;d<g.length;d+=1)g[d]&&g[d].m(v,null);D(i,T,x),D(i,A,x),n(A,y)},p(i,x){if(x&256&&ee(l,i[8]),x&512&&ee(t,i[9]),x&8&&ee(p,i[3]),x&2048){w=De(i[11]);let d;for(d=0;d<w.length;d+=1){const z=Me(i,w,d);g[d]?g[d].p(z,x):(g[d]=Ae(z),g[d].c(),g[d].m(v,null))}for(;d<g.length;d+=1)g[d].d(1);g.length=w.length}x&4&&ee(y,i[2])},d(i){i&&(f(e),f(a),f(u),f(_),f(v),f(T),f(A)),Qe(g,i)}}}function Ae(r){let e,s=r[24].letter+"",l,o;return{c(){e=m("span"),l=I(s),this.h()},l(t){e=h(t,"SPAN",{class:!0});var a=j(e);l=S(a,s),a.forEach(f),this.h()},h(){k(e,"class",o="inconsolata "+(r[24].typed&&!r[24].mistake?"text-gray-700":"")+" "+(r[24].mistake?" text-red-700":"")+" "+(r[24].letter===ue?"text-sm px-1 font-bold":"")+" "+(r[24].letter===ue&&!r[24].typed?"text-gray-800":"")+" "+(r[26]===0&&r[11][0].typed===!1||r[26]>0&&r[11][r[26]-1].typed&&!r[11][r[26]].typed?" underline":""))},m(t,a){D(t,e,a),n(e,l)},p(t,a){a&2048&&s!==(s=t[24].letter+"")&&ee(l,s),a&2048&&o!==(o="inconsolata "+(t[24].typed&&!t[24].mistake?"text-gray-700":"")+" "+(t[24].mistake?" text-red-700":"")+" "+(t[24].letter===ue?"text-sm px-1 font-bold":"")+" "+(t[24].letter===ue&&!t[24].typed?"text-gray-800":"")+" "+(t[26]===0&&t[11][0].typed===!1||t[26]>0&&t[11][t[26]-1].typed&&!t[11][t[26]].typed?" underline":""))&&k(e,"class",o)},d(t){t&&f(e)}}}function Ve(r){let e,s='<div class="flex justify-center flex-col gap-y-3 items-center h-full"><svg class="animate-spin h-10 w-10 text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8z"></path></svg> <p class="text-black font-bold text-2xl ml-3">Récupération d&#39;une phrase aléatoire depuis python...</p> <p class="text-black text-sm ml-3">Si ce processus prend trop de temps, veuillez changer de connexion internet</p></div>',l,o;return{c(){e=m("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-161ar0f"&&(e.innerHTML=s),this.h()},h(){k(e,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(t,a){D(t,e,a),o=!0},i(t){o||(t&&Te(()=>{o&&(l||(l=be(e,ke,{},!0)),l.run(1))}),o=!0)},o(t){t&&(l||(l=be(e,ke,{},!1)),l.run(0)),o=!1},d(t){t&&f(e),t&&l&&l.end()}}}function Oe(r){let e,s,l,o,t="Vos résultats :",a,u,c,p=r[10].tempsMisString+"",_,v,T,A,y=r[10].nbCaracteres+"",w,g,i,x,d=r[10].nbErreurs+"",z,V,F,U,te=r[10].vitesse+"",R,re,E,N,P,H=r[10].precision+"",K,G,O,ie,le=r[10].score+"",X,fe,Y,Z,de="Recommencer",b,C,oe="Retour",q,J,ce,Ne;return{c(){e=m("div"),s=m("div"),l=m("div"),o=m("h2"),o.textContent=t,a=M(),u=m("p"),c=I("Temps mis : "),_=I(p),v=M(),T=m("p"),A=I("Nombre de caractères : "),w=I(y),g=M(),i=m("p"),x=I("Nombre d'erreurs : "),z=I(d),V=M(),F=m("p"),U=I("Vitesse : "),R=I(te),re=I(" caractères par seconde"),E=M(),N=m("p"),P=I("Précision : "),K=I(H),G=M(),O=m("p"),ie=I("Score : "),X=I(le),fe=M(),Y=m("div"),Z=m("button"),Z.textContent=de,b=M(),C=m("a"),C.textContent=oe,this.h()},l(B){e=h(B,"DIV",{class:!0});var $=j(e);s=h($,"DIV",{class:!0});var me=j(s);l=h(me,"DIV",{class:!0});var Q=j(l);o=h(Q,"H2",{class:!0,"data-svelte-h":!0}),W(o)!=="svelte-14uk5ao"&&(o.textContent=t),a=L(Q),u=h(Q,"P",{});var ye=j(u);c=S(ye,"Temps mis : "),_=S(ye,p),ye.forEach(f),v=L(Q),T=h(Q,"P",{});var xe=j(T);A=S(xe,"Nombre de caractères : "),w=S(xe,y),xe.forEach(f),g=L(Q),i=h(Q,"P",{});var Ce=j(i);x=S(Ce,"Nombre d'erreurs : "),z=S(Ce,d),Ce.forEach(f),V=L(Q),F=h(Q,"P",{});var he=j(F);U=S(he,"Vitesse : "),R=S(he,te),re=S(he," caractères par seconde"),he.forEach(f),E=L(Q),N=h(Q,"P",{});var Ee=j(N);P=S(Ee,"Précision : "),K=S(Ee,H),Ee.forEach(f),G=L(Q),O=h(Q,"P",{class:!0});var ge=j(O);ie=S(ge,"Score : "),X=S(ge,le),ge.forEach(f),Q.forEach(f),fe=L(me),Y=h(me,"DIV",{class:!0});var ve=j(Y);Z=h(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),W(Z)!=="svelte-1rnia1g"&&(Z.textContent=de),b=L(ve),C=h(ve,"A",{class:!0,href:!0,"data-svelte-h":!0}),W(C)!=="svelte-18xoers"&&(C.textContent=oe),ve.forEach(f),me.forEach(f),$.forEach(f),this.h()},h(){k(o,"class","text-4xl font-bold text-center mb-8"),k(O,"class","font-bold text-center mt-8"),k(l,"class","text-2xl text-justify"),k(Z,"class","bg-yellow-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-all w-2/5"),k(C,"class","bg-red-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-red-500 transition-all w-2/5 flex items-center justify-center"),k(C,"href","/keyboard"),k(Y,"class","flex justify-center gap-x-8 mt-4 h-14"),k(s,"class","flex flex-col gap-y-4 w-3/5 py-12 px-12 bg-[#be97bb] text-black shadow-xl rounded-xl"),k(e,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(B,$){D(B,e,$),n(e,s),n(s,l),n(l,o),n(l,a),n(l,u),n(u,c),n(u,_),n(l,v),n(l,T),n(T,A),n(T,w),n(l,g),n(l,i),n(i,x),n(i,z),n(l,V),n(l,F),n(F,U),n(F,R),n(F,re),n(l,E),n(l,N),n(N,P),n(N,K),n(l,G),n(l,O),n(O,ie),n(O,X),n(s,fe),n(s,Y),n(Y,Z),n(Y,b),n(Y,C),J=!0,ce||(Ne=[_e(Z,"click",r[19]),_e(C,"click",r[13])],ce=!0)},p(B,$){(!J||$&1024)&&p!==(p=B[10].tempsMisString+"")&&ee(_,p),(!J||$&1024)&&y!==(y=B[10].nbCaracteres+"")&&ee(w,y),(!J||$&1024)&&d!==(d=B[10].nbErreurs+"")&&ee(z,d),(!J||$&1024)&&te!==(te=B[10].vitesse+"")&&ee(R,te),(!J||$&1024)&&H!==(H=B[10].precision+"")&&ee(K,H),(!J||$&1024)&&le!==(le=B[10].score+"")&&ee(X,le)},i(B){J||(B&&Te(()=>{J&&(q||(q=be(e,ke,{},!0)),q.run(1))}),J=!0)},o(B){B&&(q||(q=be(e,ke,{},!1)),q.run(0)),J=!1},d(B){B&&f(e),B&&q&&q.end(),ce=!1,Be(Ne)}}}function $e(r){let e,s,l,o,t,a;const u=[Ze,Ye],c=[];function p(_,v){return _[0]?1:0}return s=p(r),l=c[s]=u[s](r),t=new We({props:{urlToGo:"/keyboard",taille:"w-10 h-10 bottom-3 left-3",toExecuteBefore:r[13]}}),{c(){e=m("div"),l.c(),o=M(),Fe(t.$$.fragment),this.h()},l(_){e=h(_,"DIV",{class:!0});var v=j(e);l.l(v),o=L(v),Re(t.$$.fragment,v),v.forEach(f),this.h()},h(){k(e,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(_,v){D(_,e,v),c[s].m(e,null),n(e,o),He(t,e,null),a=!0},p(_,[v]){let T=s;s=p(_),s===T?c[s].p(_,v):(Pe(),ae(c[T],1,1,()=>{c[T]=null}),we(),l=c[s],l?l.p(_,v):(l=c[s]=u[s](_),l.c()),se(l,1),l.m(e,o))},i(_){a||(se(l),se(t.$$.fragment,_),a=!0)},o(_){ae(l),ae(t.$$.fragment,_),a=!1},d(_){_&&f(e),c[s].d(),qe(t)}}}const ue=" ⸱ ";function et(r,e,s){let l,o,t=!1,a=!1,u="",c="",p=new Date,_="0:00",v=!1,T="fr",A=!0,y=!0,w=0,g=0,i={tempsMisString:"0:00",nbErreurs:0,nbCaracteres:0,vitesse:0,precision:0,score:0};Ue(()=>{window.addEventListener("keyup",x),window.addEventListener("keydown",d)});function x(E){E.key.length===1&&E.key!==" "?ne("../audio/key1_release.mp3"):E.key==="Enter"?ne("../audio/key1_enter_release.mp3"):E.key==="Backspace"?ne("../audio/key1_return_release.mp3"):E.key===" "&&ne("../audio/key1_space_release.mp3")}function d(E){if(E.key.length===1&&E.key!==" "?ne("../audio/key1_press.mp3"):E.key==="Enter"?ne("../audio/key1_enter_press.mp3"):E.key==="Backspace"?ne("../audio/key1_return_press.mp3"):E.key===" "&&ne("../audio/key1_space_press.mp3"),t){if(E.key.length!==1)return;let N=o.find(P=>!P.typed);if(N){N.typed=!0;let P=N.letter;A||(P=P.toLowerCase()),y||(P=P.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),(P===ue?" ":P)!==E.key&&(N.mistake=!0),P===ue&&s(8,w++,w),o.every(H=>H.typed)&&z()}s(11,o=[...o])}else E.key==="Enter"&&V()}function z(){s(1,a=!0);let N=Number(new Date)-Number(p),P=o.filter(K=>K.mistake).length,H=o.length;je.api.calculer_score_typescript({temps_mis:N,nb_erreurs:P,nb_caracteres:H}).then(K=>{s(10,i=K)})}async function V(){s(0,t=!0),s(4,v=!0),console.log(T);const E=await je.api.recuperer_phrase_aleatoire_typescript(T);s(14,u=E.phrase),s(2,c=E.titre),s(9,g=u.split(" ").length),s(8,w=0),s(4,v=!1),p=new Date;const N=setInterval(()=>{let H=Number(new Date)-Number(p),K=Math.floor(H/6e4),G=Math.floor(H%6e4/1e3);s(3,_=`${K}:${G<10?"0":""}${G}`),a&&clearInterval(N)},1e3)}function F(){window.removeEventListener("keyup",x),window.removeEventListener("keydown",d)}function U(){T=Ke(this),s(5,T)}function te(){A=this.checked,s(6,A)}function R(){y=this.checked,s(7,y)}const re=()=>{window.location.reload()};return r.$$.update=()=>{r.$$.dirty&16384&&s(15,l=u.split("")),r.$$.dirty&32768&&s(11,o=l.map(E=>({letter:E.trim()||ue,typed:!1,mistake:!1})))},[t,a,c,_,v,T,A,y,w,g,i,o,V,F,u,l,U,te,R,re]}class it extends Ge{constructor(e){super(),Je(this,e,et,$e,ze,{})}}export{it as component};
