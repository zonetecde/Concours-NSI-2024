import{i as Le,s as Re,o as ze,n as $e,f as je,r as Be}from"../chunks/scheduler.28946a50.js";import{S as Fe,i as Oe,g as h,s as w,r as Ie,h as _,j as x,c as E,u as Ae,f as m,k as v,a as V,x as f,v as qe,t as L,b as ke,d as M,w as He,p as ge,e as Ce,z as Ue,y as U,m as k,n as g,o as B,A as le,B as Se}from"../chunks/index.35a693e8.js";import{R as Ge,E as Je}from"../chunks/Retour.68d4dfb8.js";import{A as Te}from"../chunks/Api.514a8052.js";function Ve(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function re(a,{delay:s=0,duration:r=400,easing:t=Le}={}){const i=+getComputedStyle(a).opacity;return{delay:s,duration:r,easing:t,css:l=>`opacity: ${l*i}`}}function De(a,s,r){const t=a.slice();return t[12]=s[r],t[14]=r,t}function Ke(a){let s,r,t,i,l,c=Ve(a[4]),u=[];for(let e=0;e<c.length;e+=1)u[e]=Pe(De(a,c,e));let o=a[2]&&Ne(),n=a[1]&&Me(a);return{c(){s=h("div"),r=h("p");for(let e=0;e<u.length;e+=1)u[e].c();t=w(),o&&o.c(),i=w(),n&&n.c(),l=Ce(),this.h()},l(e){s=_(e,"DIV",{class:!0});var d=x(s);r=_(d,"P",{class:!0});var p=x(r);for(let C=0;C<u.length;C+=1)u[C].l(p);p.forEach(m),d.forEach(m),t=E(e),o&&o.l(e),i=E(e),n&&n.l(e),l=Ce(),this.h()},h(){v(r,"class","text-2xl text-justify"),v(s,"class","flex flex-col gap-y-4")},m(e,d){V(e,s,d),f(s,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);V(e,t,d),o&&o.m(e,d),V(e,i,d),n&&n.m(e,d),V(e,l,d)},p(e,d){if(d&16){c=Ve(e[4]);let p;for(p=0;p<c.length;p+=1){const C=De(e,c,p);u[p]?u[p].p(C,d):(u[p]=Pe(C),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}e[2]?o?d&4&&M(o,1):(o=Ne(),o.c(),M(o,1),o.m(i.parentNode,i)):o&&(ge(),L(o,1,1,()=>{o=null}),ke()),e[1]?n?(n.p(e,d),d&2&&M(n,1)):(n=Me(e),n.c(),M(n,1),n.m(l.parentNode,l)):n&&(ge(),L(n,1,1,()=>{n=null}),ke())},i(e){M(o),M(n)},o(e){L(o),L(n)},d(e){e&&(m(s),m(t),m(i),m(l)),Ue(u,e),o&&o.d(e),n&&n.d(e)}}}function Qe(a){let s,r="Type Script",t,i,l,c,u=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Vous devrez écrire le texte qui s&#39;affichera le plus rapidement possible, tout en minimisant
				les erreurs de frappe.</p> <p class="mt-4">Appuyez sur n&#39;importe quelle touche pour commencer l&#39;exercice.</p>`,o;return i=new Je({props:{image:"/keyboard/typescript.png",link:"/keyboard/type-script",nom:"Type Script",handleClick:a[5]}}),{c(){s=h("h1"),s.textContent=r,t=w(),Ie(i.$$.fragment),l=w(),c=h("div"),c.innerHTML=u,this.h()},l(n){s=_(n,"H1",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-1q6ra4y"&&(s.textContent=r),t=E(n),Ae(i.$$.fragment,n),l=E(n),c=_(n,"DIV",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-zx8w49"&&(c.innerHTML=u),this.h()},h(){v(s,"class","font-bold text-3xl -mt-12 mb-8"),v(c,"class","text-center")},m(n,e){V(n,s,e),V(n,t,e),qe(i,n,e),V(n,l,e),V(n,c,e),o=!0},p:$e,i(n){o||(M(i.$$.fragment,n),o=!0)},o(n){L(i.$$.fragment,n),o=!1},d(n){n&&(m(s),m(t),m(l),m(c)),He(i,n)}}}function Pe(a){let s,r=a[12].letter+"",t,i;return{c(){s=h("span"),t=k(r),this.h()},l(l){s=_(l,"SPAN",{class:!0});var c=x(s);t=g(c,r),c.forEach(m),this.h()},h(){v(s,"class",i="inconsolata "+(a[12].typed&&!a[12].mistake?"text-gray-500":"")+" "+(a[12].mistake?" text-red-400":"")+" "+(a[12].letter===O?"text-sm -mx-1 font-bold":"")+" "+(a[12].letter===O&&!a[12].typed?"text-gray-800":"")+" "+(a[14]===0||a[14]>0&&a[4][a[14]-1].typed&&!a[4][a[14]].typed?" underline":""))},m(l,c){V(l,s,c),f(s,t)},p(l,c){c&16&&r!==(r=l[12].letter+"")&&B(t,r),c&16&&i!==(i="inconsolata "+(l[12].typed&&!l[12].mistake?"text-gray-500":"")+" "+(l[12].mistake?" text-red-400":"")+" "+(l[12].letter===O?"text-sm -mx-1 font-bold":"")+" "+(l[12].letter===O&&!l[12].typed?"text-gray-800":"")+" "+(l[14]===0||l[14]>0&&l[4][l[14]-1].typed&&!l[4][l[14]].typed?" underline":""))&&v(s,"class",i)},d(l){l&&m(s)}}}function Ne(a){let s,r='<div class="flex justify-center flex-col gap-y-3 items-center h-full"><svg class="animate-spin h-10 w-10 text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8z"></path></svg> <p class="text-black font-bold text-2xl ml-3">Récupération d&#39;une phrase aléatoire depuis python...</p></div>',t,i;return{c(){s=h("div"),s.innerHTML=r,this.h()},l(l){s=_(l,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-qqplr7"&&(s.innerHTML=r),this.h()},h(){v(s,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(l,c){V(l,s,c),i=!0},i(l){i||(l&&je(()=>{i&&(t||(t=le(s,re,{},!0)),t.run(1))}),i=!0)},o(l){l&&(t||(t=le(s,re,{},!1)),t.run(0)),i=!1},d(l){l&&m(s),l&&t&&t.end()}}}function Me(a){let s,r,t,i,l="Vos résultats :",c,u,o,n=a[3].tempsMisString+"",e,d,p,C,R=a[3].nbCaracteres+"",S,D,T,G,j=a[3].nbErreurs+"",W,ne,z,ae,J=a[3].vitesse+"",X,ie,oe,F,ce,K=a[3].precision+"",Y,fe,$,ue,Q=a[3].score+"",Z,pe,I,A,xe="Recommencer",de,q,we="Retour",H,P,me,Ee;return{c(){s=h("div"),r=h("div"),t=h("div"),i=h("h2"),i.textContent=l,c=w(),u=h("p"),o=k("Temps mis : "),e=k(n),d=w(),p=h("p"),C=k("Nombre de caractères : "),S=k(R),D=w(),T=h("p"),G=k("Nombre d'erreurs : "),W=k(j),ne=w(),z=h("p"),ae=k("Vitesse : "),X=k(J),ie=k(" caractères par seconde"),oe=w(),F=h("p"),ce=k("Précision : "),Y=k(K),fe=w(),$=h("p"),ue=k("Score : "),Z=k(Q),pe=w(),I=h("div"),A=h("button"),A.textContent=xe,de=w(),q=h("button"),q.textContent=we,this.h()},l(b){s=_(b,"DIV",{class:!0});var N=x(s);r=_(N,"DIV",{class:!0});var ee=x(r);t=_(ee,"DIV",{class:!0});var y=x(t);i=_(y,"H2",{class:!0,"data-svelte-h":!0}),U(i)!=="svelte-14uk5ao"&&(i.textContent=l),c=E(y),u=_(y,"P",{});var he=x(u);o=g(he,"Temps mis : "),e=g(he,n),he.forEach(m),d=E(y),p=_(y,"P",{});var _e=x(p);C=g(_e,"Nombre de caractères : "),S=g(_e,R),_e.forEach(m),D=E(y),T=_(y,"P",{});var be=x(T);G=g(be,"Nombre d'erreurs : "),W=g(be,j),be.forEach(m),ne=E(y),z=_(y,"P",{});var te=x(z);ae=g(te,"Vitesse : "),X=g(te,J),ie=g(te," caractères par seconde"),te.forEach(m),oe=E(y),F=_(y,"P",{});var ve=x(F);ce=g(ve,"Précision : "),Y=g(ve,K),ve.forEach(m),fe=E(y),$=_(y,"P",{class:!0});var ye=x($);ue=g(ye,"Score : "),Z=g(ye,Q),ye.forEach(m),y.forEach(m),pe=E(ee),I=_(ee,"DIV",{class:!0});var se=x(I);A=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),U(A)!=="svelte-1rnia1g"&&(A.textContent=xe),de=E(se),q=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),U(q)!=="svelte-aiw6b8"&&(q.textContent=we),se.forEach(m),ee.forEach(m),N.forEach(m),this.h()},h(){v(i,"class","text-4xl font-bold text-center mb-8"),v($,"class","font-bold text-center mt-8"),v(t,"class","text-2xl text-justify"),v(A,"class","bg-yellow-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-all w-2/5"),v(q,"class","bg-red-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-red-500 transition-all w-2/5"),v(I,"class","flex justify-center gap-x-8 mt-4 h-14"),v(r,"class","flex flex-col gap-y-4 w-3/5 py-12 px-12 bg-[#b9e6ec] text-black shadow-xl rounded-xl"),v(s,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(b,N){V(b,s,N),f(s,r),f(r,t),f(t,i),f(t,c),f(t,u),f(u,o),f(u,e),f(t,d),f(t,p),f(p,C),f(p,S),f(t,D),f(t,T),f(T,G),f(T,W),f(t,ne),f(t,z),f(z,ae),f(z,X),f(z,ie),f(t,oe),f(t,F),f(F,ce),f(F,Y),f(t,fe),f(t,$),f($,ue),f($,Z),f(r,pe),f(r,I),f(I,A),f(I,de),f(I,q),P=!0,me||(Ee=[Se(A,"click",a[8]),Se(q,"click",a[9])],me=!0)},p(b,N){(!P||N&8)&&n!==(n=b[3].tempsMisString+"")&&B(e,n),(!P||N&8)&&R!==(R=b[3].nbCaracteres+"")&&B(S,R),(!P||N&8)&&j!==(j=b[3].nbErreurs+"")&&B(W,j),(!P||N&8)&&J!==(J=b[3].vitesse+"")&&B(X,J),(!P||N&8)&&K!==(K=b[3].precision+"")&&B(Y,K),(!P||N&8)&&Q!==(Q=b[3].score+"")&&B(Z,Q)},i(b){P||(b&&je(()=>{P&&(H||(H=le(s,re,{},!0)),H.run(1))}),P=!0)},o(b){b&&(H||(H=le(s,re,{},!1)),H.run(0)),P=!1},d(b){b&&m(s),b&&H&&H.end(),me=!1,Be(Ee)}}}function We(a){let s,r,t,i,l,c;const u=[Qe,Ke],o=[];function n(e,d){return e[0]?1:0}return r=n(a),t=o[r]=u[r](a),l=new Ge({props:{urlToGo:"/keyboard"}}),{c(){s=h("div"),t.c(),i=w(),Ie(l.$$.fragment),this.h()},l(e){s=_(e,"DIV",{class:!0});var d=x(s);t.l(d),i=E(d),Ae(l.$$.fragment,d),d.forEach(m),this.h()},h(){v(s,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(e,d){V(e,s,d),o[r].m(s,null),f(s,i),qe(l,s,null),c=!0},p(e,[d]){let p=r;r=n(e),r===p?o[r].p(e,d):(ge(),L(o[p],1,1,()=>{o[p]=null}),ke(),t=o[r],t?t.p(e,d):(t=o[r]=u[r](e),t.c()),M(t,1),t.m(s,i))},i(e){c||(M(t),M(l.$$.fragment,e),c=!0)},o(e){L(t),L(l.$$.fragment,e),c=!1},d(e){e&&m(s),o[r].d(),He(l)}}}const O=" ⸱ ";function Xe(a,s,r){let t,i,l=!1,c=!1,u="",o=new Date,n=!1,e={tempsMisString:"0:00",nbErreurs:0,nbCaracteres:0,vitesse:0,precision:0,score:0};ze(()=>{window.addEventListener("keydown",S=>{if(l){if(S.key.length!==1)return;let D=i.find(T=>!T.typed);D&&(D.typed=!0,(D.letter===O?" ":D.letter)!==S.key&&(D.mistake=!0),i.every(T=>T.typed)&&d()),r(4,i=[...i])}else p()})});function d(){r(1,c=!0);let D=Number(new Date)-Number(o),T=i.filter(j=>j.mistake).length,G=i.length;Te.api.calculer_score_typescript({temps_mis:D,nb_erreurs:T,nb_caracteres:G}).then(j=>{r(3,e=j)})}async function p(){r(0,l=!0),r(2,n=!0);const S=await Te.api.recuperer_phrase_aleatoire_typescript();r(6,u=S.phrase),r(2,n=!1),o=new Date}const C=()=>{window.location.reload()},R=()=>{window.location.href="/keyboard"};return a.$$.update=()=>{a.$$.dirty&64&&r(7,t=u.split("")),a.$$.dirty&128&&r(4,i=t.map(S=>({letter:S.trim()||O,typed:!1,mistake:!1})))},[l,c,n,e,i,p,u,t,C,R]}class st extends Fe{constructor(s){super(),Oe(this,s,Xe,We,Re,{})}}export{st as component};
