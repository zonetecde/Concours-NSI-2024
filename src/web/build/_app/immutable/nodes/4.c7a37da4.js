import{i as Ke,s as Qe,o as We,n as Xe,f as Ye,r as Ze}from"../chunks/scheduler.28946a50.js";import{S as et,i as tt,g as h,s as k,r as Be,h as _,j as y,c as w,u as Fe,f as p,k as m,a as D,x as n,v as Oe,t as U,b as Ue,d as F,w as Ge,p as Je,e as Me,z as st,y as Z,m as v,n as x,o as $,A as Re,B as Ie}from"../chunks/index.4b302ce9.js";import{R as lt,E as rt}from"../chunks/Retour.c7088333.js";import{A as at}from"../chunks/Api.514a8052.js";function je(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function Le(o,{delay:t=0,duration:s=400,easing:e=Ke}={}){const i=+getComputedStyle(o).opacity;return{delay:t,duration:s,easing:e,css:u=>`opacity: ${u*i}`}}function qe(o,t,s){const e=o.slice();return e[11]=t[s],e}function nt(o){let t,s,e,i,u=je(o[3]),a=[];for(let l=0;l<u.length;l+=1)a[l]=ze(qe(o,u,l));let f=o[1]&&He(o);return{c(){t=h("div"),s=h("p");for(let l=0;l<a.length;l+=1)a[l].c();e=k(),f&&f.c(),i=Me(),this.h()},l(l){t=_(l,"DIV",{class:!0});var c=y(t);s=_(c,"P",{class:!0});var r=y(s);for(let d=0;d<a.length;d+=1)a[d].l(r);r.forEach(p),c.forEach(p),e=w(l),f&&f.l(l),i=Me(),this.h()},h(){m(s,"class","text-2xl text-justify"),m(t,"class","flex flex-col gap-y-4")},m(l,c){D(l,t,c),n(t,s);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(s,null);D(l,e,c),f&&f.m(l,c),D(l,i,c)},p(l,c){if(c&8){u=je(l[3]);let r;for(r=0;r<u.length;r+=1){const d=qe(l,u,r);a[r]?a[r].p(d,c):(a[r]=ze(d),a[r].c(),a[r].m(s,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=u.length}l[1]?f?(f.p(l,c),c&2&&F(f,1)):(f=He(l),f.c(),F(f,1),f.m(i.parentNode,i)):f&&(Je(),U(f,1,1,()=>{f=null}),Ue())},i(l){F(f)},o(l){U(f)},d(l){l&&(p(t),p(e),p(i)),st(a,l),f&&f.d(l)}}}function ot(o){let t,s="Type Script",e,i,u,a,f=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Vous devrez écrire le texte qui s&#39;affichera le plus rapidement possible, tout en minimisant
				les erreurs de frappe.</p> <p class="mt-4">Appuyez sur n&#39;importe quelle touche pour commencer l&#39;exercice.</p>`,l;return i=new rt({props:{image:"",link:"/keyboard/type-script",nom:"Type Script",handleClick:o[4]}}),{c(){t=h("h1"),t.textContent=s,e=k(),Be(i.$$.fragment),u=k(),a=h("div"),a.innerHTML=f,this.h()},l(c){t=_(c,"H1",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1q6ra4y"&&(t.textContent=s),e=w(c),Fe(i.$$.fragment,c),u=w(c),a=_(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(a)!=="svelte-zx8w49"&&(a.innerHTML=f),this.h()},h(){m(t,"class","font-bold text-3xl -mt-12 mb-8"),m(a,"class","text-center")},m(c,r){D(c,t,r),D(c,e,r),Oe(i,c,r),D(c,u,r),D(c,a,r),l=!0},p:Xe,i(c){l||(F(i.$$.fragment,c),l=!0)},o(c){U(i.$$.fragment,c),l=!1},d(c){c&&(p(t),p(e),p(u),p(a)),Ge(i,c)}}}function ze(o){let t,s=o[11].letter+"",e,i;return{c(){t=h("span"),e=v(s),this.h()},l(u){t=_(u,"SPAN",{class:!0});var a=y(t);e=x(a,s),a.forEach(p),this.h()},h(){m(t,"class",i="inconsolata "+(o[11].typed&&!o[11].mistake?"text-gray-500":"")+" "+(o[11].mistake?" text-red-400":"")+" "+(o[11].letter===O?"text-sm -mx-1 font-bold":"")+" "+(o[11].letter===O&&!o[11].typed?"text-yellow-400":""))},m(u,a){D(u,t,a),n(t,e)},p(u,a){a&8&&s!==(s=u[11].letter+"")&&$(e,s),a&8&&i!==(i="inconsolata "+(u[11].typed&&!u[11].mistake?"text-gray-500":"")+" "+(u[11].mistake?" text-red-400":"")+" "+(u[11].letter===O?"text-sm -mx-1 font-bold":"")+" "+(u[11].letter===O&&!u[11].typed?"text-yellow-400":""))&&m(t,"class",i)},d(u){u&&p(t)}}}function He(o){let t,s,e,i,u="Vos résultats :",a,f,l,c=o[2].tempsMisString+"",r,d,E,G,N=o[2].nbCaracteres+"",S,T,V,q,J=o[2].nbCaracteresCorrects+"",ee,ue,z,fe,K=o[2].nbErreurs+"",te,pe,A,de,Q=o[2].pourcentageReussite+"",se,me,he,M,_e,W=o[2].vitesse+"",le,be,ve,H,xe,X=o[2].precision+"",re,ge,B,ye,Y=o[2].score+"",ae,ke,R,I,Ve="Recommencer",we,j,$e="Retour",L,C,Ee,Ae;return{c(){t=h("div"),s=h("div"),e=h("div"),i=h("h2"),i.textContent=u,a=k(),f=h("p"),l=v("Temps mis : "),r=v(c),d=k(),E=h("p"),G=v("Nombre de caractères : "),S=v(N),T=k(),V=h("p"),q=v("Nombre de caractères corrects : "),ee=v(J),ue=k(),z=h("p"),fe=v("Nombre d'erreurs : "),te=v(K),pe=k(),A=h("p"),de=v("Pourcentage de réussite : "),se=v(Q),me=v("%"),he=k(),M=h("p"),_e=v("Vitesse : "),le=v(W),be=v(" caractères par seconde"),ve=k(),H=h("p"),xe=v("Précision : "),re=v(X),ge=k(),B=h("p"),ye=v("Score : "),ae=v(Y),ke=k(),R=h("div"),I=h("button"),I.textContent=Ve,we=k(),j=h("button"),j.textContent=$e,this.h()},l(b){t=_(b,"DIV",{class:!0});var P=y(t);s=_(P,"DIV",{class:!0});var ne=y(s);e=_(ne,"DIV",{class:!0});var g=y(e);i=_(g,"H2",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-14uk5ao"&&(i.textContent=u),a=w(g),f=_(g,"P",{class:!0});var Ce=y(f);l=x(Ce,"Temps mis : "),r=x(Ce,c),Ce.forEach(p),d=w(g),E=_(g,"P",{class:!0});var Pe=y(E);G=x(Pe,"Nombre de caractères : "),S=x(Pe,N),Pe.forEach(p),T=w(g),V=_(g,"P",{class:!0});var Se=y(V);q=x(Se,"Nombre de caractères corrects : "),ee=x(Se,J),Se.forEach(p),ue=w(g),z=_(g,"P",{class:!0});var Ne=y(z);fe=x(Ne,"Nombre d'erreurs : "),te=x(Ne,K),Ne.forEach(p),pe=w(g),A=_(g,"P",{class:!0});var oe=y(A);de=x(oe,"Pourcentage de réussite : "),se=x(oe,Q),me=x(oe,"%"),oe.forEach(p),he=w(g),M=_(g,"P",{class:!0});var ie=y(M);_e=x(ie,"Vitesse : "),le=x(ie,W),be=x(ie," caractères par seconde"),ie.forEach(p),ve=w(g),H=_(g,"P",{class:!0});var De=y(H);xe=x(De,"Précision : "),re=x(De,X),De.forEach(p),ge=w(g),B=_(g,"P",{class:!0});var Te=y(B);ye=x(Te,"Score : "),ae=x(Te,Y),Te.forEach(p),g.forEach(p),ke=w(ne),R=_(ne,"DIV",{class:!0});var ce=y(R);I=_(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-1rnia1g"&&(I.textContent=Ve),we=w(ce),j=_(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(j)!=="svelte-aiw6b8"&&(j.textContent=$e),ce.forEach(p),ne.forEach(p),P.forEach(p),this.h()},h(){m(i,"class","text-4xl font-bold text-center mb-8"),m(f,"class","text-white"),m(E,"class","text-white"),m(V,"class","text-white"),m(z,"class","text-white"),m(A,"class","text-white"),m(M,"class","text-white"),m(H,"class","text-white"),m(B,"class","text-white font-bold text-center mt-8"),m(e,"class","text-2xl text-justify"),m(I,"class","bg-yellow-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-all w-2/5"),m(j,"class","bg-red-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-red-500 transition-all w-2/5"),m(R,"class","flex justify-center gap-x-8 mt-4 h-14"),m(s,"class","flex flex-col gap-y-4 w-3/5 py-12 px-12 bg-[#625a66] shadow-xl rounded-xl"),m(t,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(b,P){D(b,t,P),n(t,s),n(s,e),n(e,i),n(e,a),n(e,f),n(f,l),n(f,r),n(e,d),n(e,E),n(E,G),n(E,S),n(e,T),n(e,V),n(V,q),n(V,ee),n(e,ue),n(e,z),n(z,fe),n(z,te),n(e,pe),n(e,A),n(A,de),n(A,se),n(A,me),n(e,he),n(e,M),n(M,_e),n(M,le),n(M,be),n(e,ve),n(e,H),n(H,xe),n(H,re),n(e,ge),n(e,B),n(B,ye),n(B,ae),n(s,ke),n(s,R),n(R,I),n(R,we),n(R,j),C=!0,Ee||(Ae=[Re(I,"click",o[7]),Re(j,"click",o[8])],Ee=!0)},p(b,P){(!C||P&4)&&c!==(c=b[2].tempsMisString+"")&&$(r,c),(!C||P&4)&&N!==(N=b[2].nbCaracteres+"")&&$(S,N),(!C||P&4)&&J!==(J=b[2].nbCaracteresCorrects+"")&&$(ee,J),(!C||P&4)&&K!==(K=b[2].nbErreurs+"")&&$(te,K),(!C||P&4)&&Q!==(Q=b[2].pourcentageReussite+"")&&$(se,Q),(!C||P&4)&&W!==(W=b[2].vitesse+"")&&$(le,W),(!C||P&4)&&X!==(X=b[2].precision+"")&&$(re,X),(!C||P&4)&&Y!==(Y=b[2].score+"")&&$(ae,Y)},i(b){C||(b&&Ye(()=>{C&&(L||(L=Ie(t,Le,{},!0)),L.run(1))}),C=!0)},o(b){b&&(L||(L=Ie(t,Le,{},!1)),L.run(0)),C=!1},d(b){b&&p(t),b&&L&&L.end(),Ee=!1,Ze(Ae)}}}function it(o){let t,s,e,i,u,a;const f=[ot,nt],l=[];function c(r,d){return r[0]?1:0}return s=c(o),e=l[s]=f[s](o),u=new lt({props:{urlToGo:"/keyboard"}}),{c(){t=h("div"),e.c(),i=k(),Be(u.$$.fragment),this.h()},l(r){t=_(r,"DIV",{class:!0});var d=y(t);e.l(d),i=w(d),Fe(u.$$.fragment,d),d.forEach(p),this.h()},h(){m(t,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(r,d){D(r,t,d),l[s].m(t,null),n(t,i),Oe(u,t,null),a=!0},p(r,[d]){let E=s;s=c(r),s===E?l[s].p(r,d):(Je(),U(l[E],1,1,()=>{l[E]=null}),Ue(),e=l[s],e?e.p(r,d):(e=l[s]=f[s](r),e.c()),F(e,1),e.m(t,i))},i(r){a||(F(e),F(u.$$.fragment,r),a=!0)},o(r){U(e),U(u.$$.fragment,r),a=!1},d(r){r&&p(t),l[s].d(),Ge(u)}}}const O=" ⸱ ";function ct(o,t,s){let e,i,u=!1,a=!1,f="La rose est l’une des plantes les plus cultivées au monde et elle occupe la première place dans le marché des fleurs. Mais les rosiers sont aussi des plantes sauvages.",l=new Date,c={tempsMisString:"0:00",nbErreurs:0,nbCaracteres:0,nbCaracteresCorrects:0,pourcentageReussite:0,vitesse:0,precision:0,score:0};We(()=>{window.addEventListener("keydown",N=>{if(u){if(N.key.length!==1)return;let S=i.find(T=>!T.typed);S&&(S.typed=!0,(S.letter===O?" ":S.letter)!==N.key&&(S.mistake=!0),i.every(T=>T.typed)&&r()),s(3,i=[...i])}else d()})});function r(){s(1,a=!0);let S=Number(new Date)-Number(l),T=i.filter(q=>q.mistake).length,V=i.length;at.api.calculer_score_typescript({temps_mis:S,nb_erreurs:T,nb_caracteres:V}).then(q=>{s(2,c=q)})}function d(){s(5,f=f.replaceAll("’","'")),s(0,u=!0),l=new Date}const E=()=>{window.location.reload()},G=()=>{window.location.href="/keyboard"};return o.$$.update=()=>{o.$$.dirty&32&&s(6,e=f.split("")),o.$$.dirty&64&&s(3,i=e.map(N=>({letter:N.trim()||O,typed:!1,mistake:!1})))},[u,a,c,i,d,f,e,E,G]}class mt extends et{constructor(t){super(),tt(this,t,ct,it,Qe,{})}}export{mt as component};
