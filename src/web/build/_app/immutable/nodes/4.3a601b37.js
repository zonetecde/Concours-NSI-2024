import{i as Ie,s as je,o as Le,n as Re,f as qe,r as ze}from"../chunks/scheduler.28946a50.js";import{S as He,i as Be,g as h,s as E,r as Te,h as _,j as g,c as C,u as Ve,f as d,k as m,a as T,x as f,v as Ne,t as F,b as $e,d as H,w as Ae,p as Me,e as ge,z as Fe,y as Q,m as x,n as y,o as z,A as ke,B as we}from"../chunks/index.4b302ce9.js";import{R as Oe,E as Ue}from"../chunks/Retour.717c7acc.js";import{A as Ge}from"../chunks/Api.514a8052.js";function Ee(c){return(c==null?void 0:c.length)!==void 0?c:Array.from(c)}function Ce(c,{delay:t=0,duration:s=400,easing:e=Ie}={}){const a=+getComputedStyle(c).opacity;return{delay:t,duration:s,easing:e,css:o=>`opacity: ${o*a}`}}function Se(c,t,s){const e=c.slice();return e[11]=t[s],e}function Je(c){let t,s,e,a,o=Ee(c[3]),n=[];for(let l=0;l<o.length;l+=1)n[l]=Pe(Se(c,o,l));let u=c[1]&&De(c);return{c(){t=h("div"),s=h("p");for(let l=0;l<n.length;l+=1)n[l].c();e=E(),u&&u.c(),a=ge(),this.h()},l(l){t=_(l,"DIV",{class:!0});var i=g(t);s=_(i,"P",{class:!0});var r=g(s);for(let p=0;p<n.length;p+=1)n[p].l(r);r.forEach(d),i.forEach(d),e=C(l),u&&u.l(l),a=ge(),this.h()},h(){m(s,"class","text-2xl text-justify"),m(t,"class","flex flex-col gap-y-4")},m(l,i){T(l,t,i),f(t,s);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(s,null);T(l,e,i),u&&u.m(l,i),T(l,a,i)},p(l,i){if(i&8){o=Ee(l[3]);let r;for(r=0;r<o.length;r+=1){const p=Se(l,o,r);n[r]?n[r].p(p,i):(n[r]=Pe(p),n[r].c(),n[r].m(s,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=o.length}l[1]?u?(u.p(l,i),i&2&&H(u,1)):(u=De(l),u.c(),H(u,1),u.m(a.parentNode,a)):u&&(Me(),F(u,1,1,()=>{u=null}),$e())},i(l){H(u)},o(l){F(u)},d(l){l&&(d(t),d(e),d(a)),Fe(n,l),u&&u.d(l)}}}function Ke(c){let t,s="Type Script",e,a,o,n,u=`<p class="mt-8 text-xl mb-4">Règles de l&#39;exercice :</p> <p class="text-lg">Vous devrez écrire le texte qui s&#39;affichera le plus rapidement possible, tout en minimisant
				les erreurs de frappe.</p> <p class="mt-4">Appuyez sur n&#39;importe quelle touche pour commencer l&#39;exercice.</p>`,l;return a=new Ue({props:{image:"",link:"/keyboard/type-script",nom:"Type Script",handleClick:c[4]}}),{c(){t=h("h1"),t.textContent=s,e=E(),Te(a.$$.fragment),o=E(),n=h("div"),n.innerHTML=u,this.h()},l(i){t=_(i,"H1",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1q6ra4y"&&(t.textContent=s),e=C(i),Ve(a.$$.fragment,i),o=C(i),n=_(i,"DIV",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-zx8w49"&&(n.innerHTML=u),this.h()},h(){m(t,"class","font-bold text-3xl -mt-12 mb-8"),m(n,"class","text-center")},m(i,r){T(i,t,r),T(i,e,r),Ne(a,i,r),T(i,o,r),T(i,n,r),l=!0},p:Re,i(i){l||(H(a.$$.fragment,i),l=!0)},o(i){F(a.$$.fragment,i),l=!1},d(i){i&&(d(t),d(e),d(o),d(n)),Ae(a,i)}}}function Pe(c){let t,s=c[11].letter+"",e,a;return{c(){t=h("span"),e=x(s),this.h()},l(o){t=_(o,"SPAN",{class:!0});var n=g(t);e=y(n,s),n.forEach(d),this.h()},h(){m(t,"class",a="inconsolata "+(c[11].typed&&!c[11].mistake?"text-gray-500":"")+" "+(c[11].mistake?" text-red-400":"")+" "+(c[11].letter===B?"text-sm -mx-1 font-bold":"")+" "+(c[11].letter===B&&!c[11].typed?"text-yellow-400":""))},m(o,n){T(o,t,n),f(t,e)},p(o,n){n&8&&s!==(s=o[11].letter+"")&&z(e,s),n&8&&a!==(a="inconsolata "+(o[11].typed&&!o[11].mistake?"text-gray-500":"")+" "+(o[11].mistake?" text-red-400":"")+" "+(o[11].letter===B?"text-sm -mx-1 font-bold":"")+" "+(o[11].letter===B&&!o[11].typed?"text-yellow-400":""))&&m(t,"class",a)},d(o){o&&d(t)}}}function De(c){let t,s,e,a,o="Vos résultats :",n,u,l,i=c[2].tempsMisString+"",r,p,k,O,S=c[2].nbCaracteres+"",w,V,N,L,U=c[2].nbErreurs+"",W,le,$,re,G=c[2].vitesse+"",X,ne,ae,R,ie,J=c[2].precision+"",Y,oe,q,ce,K=c[2].score+"",Z,ue,A,M,be="Recommencer",fe,I,xe="Retour",j,P,pe,ye;return{c(){t=h("div"),s=h("div"),e=h("div"),a=h("h2"),a.textContent=o,n=E(),u=h("p"),l=x("Temps mis : "),r=x(i),p=E(),k=h("p"),O=x("Nombre de caractères : "),w=x(S),V=E(),N=h("p"),L=x("Nombre d'erreurs : "),W=x(U),le=E(),$=h("p"),re=x("Vitesse : "),X=x(G),ne=x(" caractères par seconde"),ae=E(),R=h("p"),ie=x("Précision : "),Y=x(J),oe=E(),q=h("p"),ce=x("Score : "),Z=x(K),ue=E(),A=h("div"),M=h("button"),M.textContent=be,fe=E(),I=h("button"),I.textContent=xe,this.h()},l(v){t=_(v,"DIV",{class:!0});var D=g(t);s=_(D,"DIV",{class:!0});var ee=g(s);e=_(ee,"DIV",{class:!0});var b=g(e);a=_(b,"H2",{class:!0,"data-svelte-h":!0}),Q(a)!=="svelte-14uk5ao"&&(a.textContent=o),n=C(b),u=_(b,"P",{class:!0});var de=g(u);l=y(de,"Temps mis : "),r=y(de,i),de.forEach(d),p=C(b),k=_(b,"P",{class:!0});var me=g(k);O=y(me,"Nombre de caractères : "),w=y(me,S),me.forEach(d),V=C(b),N=_(b,"P",{class:!0});var he=g(N);L=y(he,"Nombre d'erreurs : "),W=y(he,U),he.forEach(d),le=C(b),$=_(b,"P",{class:!0});var te=g($);re=y(te,"Vitesse : "),X=y(te,G),ne=y(te," caractères par seconde"),te.forEach(d),ae=C(b),R=_(b,"P",{class:!0});var _e=g(R);ie=y(_e,"Précision : "),Y=y(_e,J),_e.forEach(d),oe=C(b),q=_(b,"P",{class:!0});var ve=g(q);ce=y(ve,"Score : "),Z=y(ve,K),ve.forEach(d),b.forEach(d),ue=C(ee),A=_(ee,"DIV",{class:!0});var se=g(A);M=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(M)!=="svelte-1rnia1g"&&(M.textContent=be),fe=C(se),I=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-aiw6b8"&&(I.textContent=xe),se.forEach(d),ee.forEach(d),D.forEach(d),this.h()},h(){m(a,"class","text-4xl font-bold text-center mb-8"),m(u,"class","text-white"),m(k,"class","text-white"),m(N,"class","text-white"),m($,"class","text-white"),m(R,"class","text-white"),m(q,"class","text-white font-bold text-center mt-8"),m(e,"class","text-2xl text-justify"),m(M,"class","bg-yellow-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-yellow-500 transition-all w-2/5"),m(I,"class","bg-red-400 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-red-500 transition-all w-2/5"),m(A,"class","flex justify-center gap-x-8 mt-4 h-14"),m(s,"class","flex flex-col gap-y-4 w-3/5 py-12 px-12 bg-[#625a66] shadow-xl rounded-xl"),m(t,"class","absolute inset-0 backdrop-blur-sm flex items-center justify-center")},m(v,D){T(v,t,D),f(t,s),f(s,e),f(e,a),f(e,n),f(e,u),f(u,l),f(u,r),f(e,p),f(e,k),f(k,O),f(k,w),f(e,V),f(e,N),f(N,L),f(N,W),f(e,le),f(e,$),f($,re),f($,X),f($,ne),f(e,ae),f(e,R),f(R,ie),f(R,Y),f(e,oe),f(e,q),f(q,ce),f(q,Z),f(s,ue),f(s,A),f(A,M),f(A,fe),f(A,I),P=!0,pe||(ye=[ke(M,"click",c[7]),ke(I,"click",c[8])],pe=!0)},p(v,D){(!P||D&4)&&i!==(i=v[2].tempsMisString+"")&&z(r,i),(!P||D&4)&&S!==(S=v[2].nbCaracteres+"")&&z(w,S),(!P||D&4)&&U!==(U=v[2].nbErreurs+"")&&z(W,U),(!P||D&4)&&G!==(G=v[2].vitesse+"")&&z(X,G),(!P||D&4)&&J!==(J=v[2].precision+"")&&z(Y,J),(!P||D&4)&&K!==(K=v[2].score+"")&&z(Z,K)},i(v){P||(v&&qe(()=>{P&&(j||(j=we(t,Ce,{},!0)),j.run(1))}),P=!0)},o(v){v&&(j||(j=we(t,Ce,{},!1)),j.run(0)),P=!1},d(v){v&&d(t),v&&j&&j.end(),pe=!1,ze(ye)}}}function Qe(c){let t,s,e,a,o,n;const u=[Ke,Je],l=[];function i(r,p){return r[0]?1:0}return s=i(c),e=l[s]=u[s](c),o=new Oe({props:{urlToGo:"/keyboard"}}),{c(){t=h("div"),e.c(),a=E(),Te(o.$$.fragment),this.h()},l(r){t=_(r,"DIV",{class:!0});var p=g(t);e.l(p),a=C(p),Ve(o.$$.fragment,p),p.forEach(d),this.h()},h(){m(t,"class","flex pt-10 px-10 h-screen justify-center flex-col items-center w-screen")},m(r,p){T(r,t,p),l[s].m(t,null),f(t,a),Ne(o,t,null),n=!0},p(r,[p]){let k=s;s=i(r),s===k?l[s].p(r,p):(Me(),F(l[k],1,1,()=>{l[k]=null}),$e(),e=l[s],e?e.p(r,p):(e=l[s]=u[s](r),e.c()),H(e,1),e.m(t,a))},i(r){n||(H(e),H(o.$$.fragment,r),n=!0)},o(r){F(e),F(o.$$.fragment,r),n=!1},d(r){r&&d(t),l[s].d(),Ae(o)}}}const B=" ⸱ ";function We(c,t,s){let e,a,o=!1,n=!1,u="La rose est l’une des plantes les plus cultivées au monde et elle occupe la première place dans le marché des fleurs. Mais les rosiers sont aussi des plantes sauvages.",l=new Date,i={tempsMisString:"0:00",nbErreurs:0,nbCaracteres:0,vitesse:0,precision:0,score:0};Le(()=>{window.addEventListener("keydown",S=>{if(o){if(S.key.length!==1)return;let w=a.find(V=>!V.typed);w&&(w.typed=!0,(w.letter===B?" ":w.letter)!==S.key&&(w.mistake=!0),a.every(V=>V.typed)&&r()),s(3,a=[...a])}else p()})});function r(){s(1,n=!0);let w=Number(new Date)-Number(l),V=a.filter(L=>L.mistake).length,N=a.length;Ge.api.calculer_score_typescript({temps_mis:w,nb_erreurs:V,nb_caracteres:N}).then(L=>{s(2,i=L)})}function p(){s(5,u=u.replaceAll("’","'")),s(0,o=!0),l=new Date}const k=()=>{window.location.reload()},O=()=>{window.location.href="/keyboard"};return c.$$.update=()=>{c.$$.dirty&32&&s(6,e=u.split("")),c.$$.dirty&64&&s(3,a=e.map(S=>({letter:S.trim()||B,typed:!1,mistake:!1})))},[o,n,i,a,p,u,e,k,O]}class tt extends He{constructor(t){super(),Be(this,t,We,Qe,je,{})}}export{tt as component};
